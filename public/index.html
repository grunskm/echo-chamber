<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cursor Echo</title>
  <style>
  *{
    padding:0px;
    margin:0px;
    font-family: monospace;
  }
  html, body{
    width:100%;
    height:100%;
    background:black;
    overflow: hidden;
    user-select:none;
  }
  #cover{
    /* display:none; */
    background:black;
    width:100%;
    height:100%;
    color:white;
  }
  #cover-text{
    text-align:center;
  }
  #recording{
    width:50%;
    height:50%;
    max-height:50%;
    max-width:50%;
    border:1px black;
    position:absolute;
    left:25%;
  }
  /* .cursor-icon{
    width:5%;
  } */
  /* .cursor-icon:hover{
    background:white;
  } */
  #livestream{
    width:100%;
    height:100%;
    border:1px black;
    position:fixed;
    z-index:10;
  }

  canvas{
    position:fixed;
    z-index:100;
  }

  @media only screen and (max-width: 900px){
    canvas{
      z-index:9;
    }
  }
  </style>
  <script src="libraries/p5.js"> </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
  <script src="sketch.js"></script>
  <script>

    window.onload = ()=>{
      let now_date = new Date();
      let sch_date = new Date('September 1, 2022 24:00:00 UTC');
      console.log(sch_date);

      let diff = sch_date-now_date;
      let hrs = floor(diff/3600000);

      let countdown = document.getElementById('countdown');
      if(hrs>1){
        countdown.innerText = 'in '+hrs+' hours at '+sch_date.getUTCHours()+":00 UTC "+sch_date.getFullYear()+"/"+(sch_date.getMonth()+1)+"/"+sch_date.getDate();
      }else{
        countdown.innerText = 'soon';
      }
    }
    function raise_canvas(){
      console.log("do something");
    }

  </script>
</head>
<body>

  <div id="cover">
      <div id=cover-text style="margin-bottom:5%;">
        <h2 style="margin-top:10%; margin-bottom:2.5%;">Cursor Echo is not currently live.</h2>
        <span >
        Next livestream <span id="countdown"></span>.<br>
        Past event recording below.<br>
        </span>
      </div>
      <iframe id="recording" src="https://www.youtube.com/embed/ogiWi5UQCAA?autoplay=1&controls=0&mute=1&loop=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      <div id="mask" style="position:fixed;width:100%;height:100%;"></div>
  </div>

  <!--   update iframe src with current youtube stream -->
  <!-- <iframe onclick="raise_canvas()" id="livestream" src="https://www.youtube.com/embed/sK3Gh2IUSVM?autoplay=1&mute=1&loop=1&controls=0" frameborder="0" allow="autoplay;"></iframe> -->
  <!-- <div id="mask" style="position:fixed;width:100%;height:100%;"></div> -->
</body>
</html>
