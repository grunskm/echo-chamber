<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
  <meta name="viewport" content="width=1024">
  <title>Cursor Echo</title>
  <style>
  *{
    padding:0px;
    margin:0px;
    font-family: monospace;
  }
  html, body{
    width:100%;
    height:100%;
    background:black;
    overflow: hidden;
    user-select:none;
  }
  #cover{
    /* display:none; */
    background:black;
    width:100%;
    height:100%;
    color:white;
  }
  #cover-text{
    text-align:center;
  }
  #recording{
    width:50%;
    height:50%;
    max-height:50%;
    max-width:50%;
    border:1px black;
    position:absolute;
    left:25%;
  }
  /* .cursor-icon{
    width:5%;
  } */
  /* .cursor-icon:hover{
    background:white;
  } */
  #player{
    width:100%;
    height:100%;
    border:1px black;
    position:fixed;
    z-index:10;
  }

  canvas{
    position:fixed;
    z-index:100;
  }

  /* @media only screen and (max-width: 900px){
    canvas{
      z-index:9;
    }
    #recording{
      z-index:9;
    }
  } */
  </style>
  <script src="libraries/p5.js"> </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
  <script src="sketch.js"></script>
  <script>

    window.onload = ()=>{
      let now_date = new Date();
      let sch_date = new Date('September 1, 2022 24:00:00 UTC');
      console.log(sch_date);

      let diff = sch_date-now_date;
      let hrs = floor(diff/3600000);

      let countdown = document.getElementById('countdown');
      if(hrs>1){
        countdown.innerText = 'in '+hrs+' hours at '+sch_date.getUTCHours()+":00 UTC "+sch_date.getFullYear()+"/"+(sch_date.getMonth()+1)+"/"+sch_date.getDate();
      }else{
        countdown.innerText = 'soon';
      }
    }

  </script>
</head>
<body>

  <div id="cover">
      <div id=cover-text style="margin-bottom:5%;">
        <h2 style="margin-top:10%; margin-bottom:2.5%;">Cursor Echo is not currently live.</h2>
        <span >
        Next livestream <span id="countdown"></span>.<br>
        Past event recording below.<br>
        </span>
      </div>
      <iframe id="recording" src="https://www.youtube.com/embed/ogiWi5UQCAA?autoplay=1&controls=0&mute=1&loop=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      <div id="mask" style="position:fixed;width:100%;height:100%;"></div>
  </div>

  <!--   update iframe src with current youtube stream -->
  <!-- <iframe  id="livestream" src="https://www.youtube.com/embed/EyGlIp0_Zeo?autoplay=1&mute=1&loop=1&controls=0" frameborder="0" allow="autoplay;"></iframe> -->

  <!-- 1. The <iframe> (video player) will replace this <div> tag. -->
<!-- <div id="player"></div>

<script>
  // 2. This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag); -->

  <!-- // 3. This function creates an <iframe> (and YouTube player)
  //    after the API code downloads.
  // var player;
  // function onYouTubeIframeAPIReady() {
  //   player = new YT.Player('player', {
  //     videoId: 'EyGlIp0_Zeo',
  //     playerVars:{
  //       'playsinLine':1,
  //       'mute':1,
  //       'autoplay':1,
  //       'loop':1,
  //       'controls':0
  //     },
  //     events: {
  //       'onReady': onPlayerReady,
  //     }
  //   });
  //   console.log("player loaded");
  // }
  //
  // // 4. The API will call this function when the video player is ready.
  // function onPlayerReady(event) {
  //   event.target.playVideo();
  //   console.log("play video");
  // }

  // 5. The API calls this function when the player's state changes.
  //    The function indicates that when playing a video (state=1),
  //    the player should play for six seconds and then stop.
  // var done = false;
  // function onPlayerStateChange(event) {
  //   if (event.data == YT.PlayerState.PLAYING && !done) {
  //     setTimeout(stopVideo, 6000);
  //     done = true;
  //   }
  // }
  // function stopVideo() {
  //   player.stopVideo();
  // }
</script> -->

  <!-- <div id="mask" style="position:fixed;width:100%;height:100%;"></div> -->
</body>
</html>
